<Window x:Class="evecorpfy.ViewsFornecedor.NegociacaoWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Negociação de Serviços"
        Height="450" Width="700"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ResizeMode="NoResize">
    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <TextBlock Grid.Row="0"
                   Text="Serviços do Evento"
                   FontSize="18"
                   FontWeight="Bold"
                   Margin="0,0,0,10"/>
        <DataGrid x:Name="DataGridServicos"
                  Grid.Row="1"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  Margin="0,0,0,10"
                  IsReadOnly="False"
                   BeginningEdit="DataGridServicos_BeginningEdit"
                  Background="White">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Serviço" Binding="{Binding NomeServico}" IsReadOnly="True" Width="*"/>
                <DataGridTemplateColumn Header="Minha Proposta (R$)" Width="200">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding ValorProposta, StringFormat=R$ {0:N2}, ConverterCulture=pt-BR}" 
                       HorizontalAlignment="Right"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                    <DataGridTemplateColumn.CellEditingTemplate>
                        <DataTemplate>
                            <TextBox Text="{Binding ValorProposta, Mode=TwoWay, 
                                           UpdateSourceTrigger=PropertyChanged, 
                                           StringFormat=N2,
                                           ConverterCulture=pt-BR}"
                                     HorizontalAlignment="Right"
                                     PreviewTextInput="ValorProposta_PreviewTextInput"
                                     LostFocus="ValorProposta_LostFocus"
                                     MaxLength="12"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellEditingTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,10,0,0">
            <TextBlock Text="Orçamento Total: "
                       VerticalAlignment="Center"/>
            <TextBlock x:Name="TextBlockOrcamentoRestante"
                       Text="R$ 0,00"
                       FontWeight="Bold"
                       Margin="5,0,20,0"
                       VerticalAlignment="Center"/>
            <Separator Width="10" Opacity="0"/>
            <Button Content="Voltar"
                    Width="150"
                    Click="Voltar_Click"/>
            <Separator Width="10" Opacity="0"/>
            <Button Content="Enviar Orçamento"
                    Width="150"
                    Click="EnviarOrcamento_Click"/>
        </StackPanel>
    </Grid>
</Window>